<!DOCTYPE html><html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Learn Lua By SupraMan</title><script src="https://unpkg.com/fengari-web/dist/fengari-web.js"></script><style>
body{
margin:0;
font-family:Arial;
background:#111;
color:white;
}

header{
background:#1b1b1b;
padding:12px;
display:flex;
justify-content:space-between;
}

.container{
display:flex;
height:92vh;
}

.sidebar{
width:230px;
background:#1b1b1b;
overflow:auto;
padding:10px;
}

.lessonBtn{
width:100%;
padding:10px;
margin:4px 0;
background:#333;
border:none;
color:white;
cursor:pointer;
}

.editor{
flex:1;
padding:12px;
}

textarea{
width:100%;
height:220px;
background:black;
color:#00ffcc;
border:none;
padding:10px;
font-family:monospace;
}

.panel{
background:#1b1b1b;
padding:10px;
margin-top:10px;
}

.pass{color:lime;}
.fail{color:red;}
</style></head><body><header>
<div>üéÆ Learn Lua By SupraMan
HAPPY BIRTHDAY DRGüéâüéäüéâ</div>
<div>XP: <span id="xp">0</span></div>
</header><div class="container"><div class="sidebar" id="lessonList"></div><div class="editor"><h2 id="lessonTitle"></h2><div class="panel" id="lessonExplain"></div><textarea id="code"></textarea><button onclick="runCode()">Run</button>

<div id="output" class="panel"></div></div>
</div><script>

/* ================= SAVE ================= */

let xp = Number(localStorage.getItem("xp")||0);
document.getElementById("xp").textContent=xp;

/* ================= ROBLOX SIM ================= */

function injectAPI(){

fengari.load(`
game = {}
game.Players = {
 LocalPlayer = {
  Name = "Player1",
  UserId = 123456
 }
}

Instance = {}

Instance.new=function(class)
 local obj={Name=class,ClassName=class}
 return obj
end

wait=function(t)
 js.global:luaWait(t or 1)
end

print=function(...)
 js.global:luaPrint(table.concat({...}," "))
end
`)();

}

/* REAL wait (async simulation) */
window.luaWait=function(t){
return new Promise(r=>setTimeout(r,t*500));
};

/* ================= LESSONS ================= */

const lessons=[

{
title:"Print",
explain:
`<b>print()</b> sends text to the output console.<br><br>
Roblox developers use print() to debug scripts.<br><br>
Example:<br>
print("Hello")`,
starter:'print("Hello Roblox")',
answer:"Hello Roblox",
xp:20
},

{
title:"Players API",
explain:
`Roblox stores players inside <b>game.Players</b>.<br><br>
LocalPlayer means YOU.<br><br>
Access properties using dots:<br>
game.Players.LocalPlayer.Name`,
starter:'print(game.Players.LocalPlayer.Name)',
answer:"Player1",
xp:30
},

{
title:"wait()",
explain:
`wait(seconds) pauses a script.<br><br>
Used for cooldowns, timers and loops.`,
starter:'wait(1)\nprint("Done")',
answer:"Done",
xp:40
},

{
title:"Instance.new",
explain:
`Instance.new creates Roblox objects.<br><br>
Example:<br>
local part = Instance.new("Part")`,
starter:
`local part = Instance.new("Part")
part.Name="Block"
print(part.Name)`,
answer:"Block",
xp:50
}

];

let currentLesson=0;

/* ================= UI ================= */

function buildLessons(){
const list=document.getElementById("lessonList");
list.innerHTML="";

lessons.forEach((l,i)=>{
const b=document.createElement("button");
b.textContent=l.title;
b.className="lessonBtn";
b.onclick=()=>loadLesson(i);
list.appendChild(b);
});
}

function loadLesson(i){
currentLesson=i;

document.getElementById("lessonTitle")
.textContent=lessons[i].title;

document.getElementById("lessonExplain")
.innerHTML=lessons[i].explain;

document.getElementById("code").value=
lessons[i].starter;
}

buildLessons();
loadLesson(0);

/* ================= RUN ================= */

async function runCode(){

let printed="";
const out=document.getElementById("output");
out.innerHTML="Running...";

window.luaPrint=t=>printed+=t+"\n";

try{

injectAPI();

await fengari.load(
document.getElementById("code").value
)();

const clean=printed.trim();
const expected=lessons[currentLesson].answer.trim();

out.innerHTML="<b>Output:</b><br>"+clean+"<hr>";

if(clean===expected){

xp+=lessons[currentLesson].xp;
localStorage.setItem("xp",xp);
document.getElementById("xp").textContent=xp;

out.innerHTML+="<span class='pass'>‚úÖ Correct!</span>";

}else{
out.innerHTML+="<span class='fail'>‚ùå Wrong Answer</span>";
}

}catch(e){
out.innerHTML="<span class='fail'>Error:<br>"+e+"</span>";
}

}

</script></body>
  </html>
